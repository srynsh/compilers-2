ink draw_concentric_circls(img i)->img {
    num a

    spool(a = 1; a <= 10; a++)
    {
        i.draw('circle', 10, 10, a, 0x0000dd)
    }

    i.frame('./out_img.bmp')

    return i
}

ink magic(img i1, img i2, img i3, gray_img i4)->img {
    img ret_i <25, 25, 0xff2244>
    gray_img i <25, 25, 78>

    i = i2.blur() * i1 ^ 12
    i4.blur()
    num r
    i.noise(r)
    i.vflip()

    return ret_i
} 

ink main()->void {
    img i1 <25, 25>
    img i2 <25, 25>
    img i3 <'./inp_img.bmp'>
    gray_img i4 <25, 25, 80>

    i1.draw('line', 0, 0, 5, 5, 0x223992)
    i1.draw('triangle', 2, 2, 4, 3, 0, 6, 0xff9600)

    draw_concentric_circles(i2)

    img ret_i = magic(i1, i2, i3, i4)

    i.paint(i1)
    i.frame('./i2.bmp')
    i.paint(i3)
    i.paint('./i4.bmp')

    return void
}